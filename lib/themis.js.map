{"version":3,"sources":["../src/themis.js"],"names":["serverPort","config","createRemoveRequest","keys","Array","isArray","obj","i","length","$themisRemove","getData","args","join","method","headers","Accept","then","result","json","removeData","body","JSON","stringify","arguments","setData","state"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;;;AAEA,MAAM;AAACA,EAAAA,UAAU,GAAG;AAAd,IAAsBC,eAA5B;;AAEA,SAASC,mBAAT,CAA6BC,IAA7B,EAAmC;AAC/B,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,IAAd,CAAL,EAA0B;AACtB,WAAO,EAAP;AACH;;AAED,MAAIG,GAAG,GAAG,EAAV;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,IAAI,CAACK,MAAzB,EAAiC,EAAED,CAAnC,EAAsC;AAClCD,IAAAA,GAAG,CAACH,IAAI,CAACI,CAAD,CAAL,CAAH,GAAe;AAACE,MAAAA,aAAa,EAAE;AAAhB,KAAf;AACH;;AACD,SAAOH,GAAP;AACH;;SAEqBI,O;;;;;+BAAf,WAAuB,GAAGC,IAA1B,EAAgC;AACnC,WAAO,wBAAO,oBAAmBX,UAAW,IAAGW,IAAI,CAACC,IAAL,CAAU,GAAV,CAAe,EAAvD,EAA0D;AAC7DC,MAAAA,MAAM,EAAE,KADqD;AAE7DC,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE,kBADH;AAEL,wBAAgB;AAFX;AAFoD,KAA1D,EAMJC,IANI,CAMCC,MAAM,IAAIA,MAAM,CAACC,IAAP,EANX,CAAP;AAOH,G;;;;SAEqBC,U;;;;;kCAAf,aAA4B;AAC/B,WAAO,wBAAO,oBAAmBnB,UAAW,GAArC,EAAyC;AAC5Ca,MAAAA,MAAM,EAAE,MADoC;AAE5CC,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE,kBADH;AAEL,wBAAgB;AAFX,OAFmC;AAM5CK,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAepB,mBAAmB,CAACqB,SAAD,CAAlC;AANsC,KAAzC,CAAP;AAQH,G;;;;SACqBC,O;;;;;+BAAf,WAAuBC,KAAvB,EAA8B;AACjC,WAAO,wBAAO,oBAAmBzB,UAAW,GAArC,EAAyC;AAC5Ca,MAAAA,MAAM,EAAE,MADoC;AAE5CC,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE,kBADH;AAEL,wBAAgB;AAFX,OAFmC;AAM5CK,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeG,KAAf;AANsC,KAAzC,CAAP;AAQH,G","sourcesContent":["import fetch from \"node-fetch\"\nimport {config} from \"../package.json\"\n\nconst {serverPort = 3283} = config\n\nfunction createRemoveRequest(keys) {\n    if (!Array.isArray(keys)) {\n        return {}\n    }\n\n    let obj = {}\n    for (let i = 0; i < keys.length; ++i) {\n        obj[keys[i]] = {$themisRemove: true}\n    }\n    return obj\n}\n\nexport async function getData(...args) {\n    return fetch(`http://localhost:${serverPort}/${args.join(\",\")}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        }\n    }).then(result => result.json())\n}\n\nexport async function removeData() {\n    return fetch(`http://localhost:${serverPort}/`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(createRemoveRequest(arguments))\n    })\n}\nexport async function setData(state) {\n    return fetch(`http://localhost:${serverPort}/`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(state)\n    })\n}\n"],"file":"themis.js"}